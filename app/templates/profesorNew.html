{% extends 'menu.html' %}
{% load static %} {# Cargamoas la etiqueta 'static' si la necesitamos para algún ícono o imagen #}

{% block title %}Nuevo Profesor{% endblock %} {# Título específico para esta página #}

{% block content %}

{# Contenedor principal con padding y fondo #}
<div class="container-fluid p-4 bg-light text-dark">
    {# Tarjeta para agrupar el formulario con sombra y borde #}
    <div class="card shadow-sm border-0 rounded-lg mx-auto" style="max-width: 700px;"> {# mx-auto para centrar la tarjeta #}
        <div class="card-body p-4"> {# Padding dentro del cuerpo de la tarjeta #}
            <div class="row justify-content-center text-center mb-4">
                <div class="col-12">
                    <h2 class="display-5 text-primary">Registrar Nuevo Profesor</h2> {# Título grande y con color #}
                    <p class="lead text-muted">Ingrese los datos del nuevo profesor.</p> {# Subtítulo descriptivo #}
                </div>
            </div>
            <hr class="my-4"> {# Línea divisoria con margen vertical #}

            <form method="POST"  enctype="multipart/form-data" class="post-form">
                {% csrf_token %}

                {# Campo para la imagen con vista previa #}
                <div class="mb-4 text-center">
                    <div class="image-preview-container mb-3">
                        <img id="imagePreview" src="{% static 'images/default-avatar.png' %}" 
                             class="img-thumbnail rounded-circle mx-auto d-block" 
                             style="width: 150px; height: 150px; object-fit: cover;"
                             alt="Vista previa de la imagen">
                    </div>
                    <label for="{{ form.imagen.id_for_label }}" class="form-label">Foto del Profesor</label>
                    <input type="file" class="form-control" id="{{ form.imagen.id_for_label }}" 
                           name="{{ form.imagen.name }}" accept="image/*">
                    <div class="form-text">Formatos aceptados: JPG, PNG, GIF. Tamaño máximo: 2MB.</div>
                </div>

                {# Campos del formulario manuales #}
                <div class="row g-3 mb-4">
                    <div class="col-md-6">
                        <label for="{{ form.nombre.id_for_label }}" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="{{ form.nombre.id_for_label }}" 
                               name="{{ form.nombre.name }}" required>
                    </div>
                    <div class="col-md-6">
                        <label for="{{ form.apellido.id_for_label }}" class="form-label">Apellido</label>
                        <input type="text" class="form-control" id="{{ form.apellido.id_for_label }}" 
                               name="{{ form.apellido.name }}" required>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="{{ form.direccion.id_for_label }}" class="form-label">Dirección</label>
                    <input type="text" class="form-control" id="{{ form.direccion.id_for_label }}" 
                           name="{{ form.direccion.name }}" required>
                </div>

                <div class="row g-3 mb-4">
                    <div class="col-md-6">
                        <label for="{{ form.telefono.id_for_label }}" class="form-label">Teléfono</label>
                        <input type="text" class="form-control" id="{{ form.telefono.id_for_label }}" 
                               name="{{ form.telefono.name }}" required>
                    </div>
                    <div class="col-md-6">
                        <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
                        <input type="email" class="form-control" id="{{ form.email.id_for_label }}" 
                               name="{{ form.email.name }}" required>
                    </div>
                </div>

                <div class="row g-3 mb-4">
                    <div class="col-md-6">
                        <label for="{{ form.especialidad.id_for_label }}" class="form-label">Especialidad</label>
                        <input type="text" class="form-control" id="{{ form.especialidad.id_for_label }}" 
                               name="{{ form.especialidad.name }}" required>
                    </div>
                    <div class="col-md-6">
                        <label for="{{ form.fecha_ingreso.id_for_label }}" class="form-label">Fecha de Ingreso</label>
                        <input type="date" class="form-control" id="{{ form.fecha_ingreso.id_for_label }}" 
                               name="{{ form.fecha_ingreso.name }}" required>
                    </div>
                </div>


                {# Botones de acción #}
                <div class="row justify-content-center mt-4">
                    <div class="col-auto d-grid gap-2 d-md-flex justify-content-md-end"> {# Para alinear botones y dar espacio #}
                        <button type="submit" class="btn btn-success btn-lg shadow-sm">
                            <i class="bi bi-save me-2"></i> Guardar {# Icono de guardar #}
                        </button>
                        <a href="{% url 'showprofesor' %}" class="btn btn-secondary btn-lg shadow-sm" role="button">
                            <i class="bi bi-x-circle me-2"></i> Cancelar {# Icono de cancelar #}
                        </a>
                    </div>
                </div>
            </form>

        </div> {# Fin de card-body #}
    </div> {# Fin de card #}
</div> {# Fin de container-fluid #}

{% endblock %}